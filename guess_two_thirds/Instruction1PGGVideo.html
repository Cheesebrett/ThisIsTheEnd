{{ block title }}Instructions for Guessing Game{{ endblock }}
{{ block content }}



    <p>
        Please watch the following Video carefully. You can pause and go back as often as you like, forward skipping is not possible.
        You have to watch the video before being able to advance.
    </p>



      <!-- Video -->
      <video id="video" controls="true" width="640" height="365">
        <source src="{% static 'videoinstruction.mp4' %}" type="video/mp4">
        <source src="{% static 'videoinstruction.webm' %}" type=”video/webm”>
        <p>
          Your browser doesn't support HTML5 video. Since you can’t continue, please leave the experiment.
        </p>

      </video>
    <script>
        var video = document.getElementById('video');
        var supposedCurrentTime = 0;
        video.addEventListener('timeupdate', function() {
          if (!video.seeking) {
            supposedCurrentTime = video.currentTime;
          }
        });
        // prevent user from seeking
        video.addEventListener('seeking', function() {
          // guard agains infinite recursion:
          // user seeks, seeking is fired, currentTime is modified, seeking is fired, current time is modified, ....
          var delta = video.currentTime - supposedCurrentTime;
          if (Math.abs(delta) > 0.01) {
            console.log("Seeking is disabled");
            video.currentTime = supposedCurrentTime;
          }
        });
        // delete the following event handler if rewind is not required
        video.addEventListener('ended', function() {
          // reset state in order to allow for rewind
            supposedCurrentTime = 0;
        });
    </script>

    <script>
    var pageTimeElapsed = 0;
    var pageTimerID = -1;

    function pageTick() {
      pageTimeElapsed++
      document.getElementById("timeSpentInstructions").value = pageTimeElapsed;
    }

    window.onload = function() {
      if(pageTimerID == -1){
        pageTimerID = setInterval(pageTick, 1000);
      }
    };
    </script>

    <input type="hidden" name="timeSpentInstructions" id="timeSpentInstructions"/>


    <script>
        const video = document.querySelector('video');
        video.addEventListener('ended', event) => {
            const button = document.getElementById("Next");
            button.style.visibility = 'visible';
        });
    </script>
    <br>
    <br>

    <button class="o-tree-btn-next btn btn-primary" id="Next" style="visibility:hidden;">Next</button>

{{ endblock }}